<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Dress Code</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- MediaPipe -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Digital Dress Code</h1>
        </header>

        <div class="main-interface">
            <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="controls-panel">
                <div class="camera-controls">
                    <button id="startCamera">–í–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É</button>
                    <button id="stopCamera" disabled>–í—ã–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É</button>
                </div>
                
                <div class="background-controls">
                    <label for="backgroundSelect">–§–æ–Ω:</label>
                    <select id="backgroundSelect">
                        <option value="green">–ó–µ–ª–µ–Ω—ã–π</option>
                        <option value="blur">–†–∞–∑–º—ã—Ç–∏–µ</option>
                        <option value="image1">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 1</option>
                        <option value="image2">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 2</option>
                        <option value="image3">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 3</option>
                        <option value="image4">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 4</option>
                        <option value="image5">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 5</option>
                        <option value="image6">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 6</option>
                        <option value="image7">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 7</option>
                        <option value="video">–í–∏–¥–µ–æ —Ñ–æ–Ω</option>
                    </select>
                </div>

                <!-- –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–º —Ç–µ–∫—Å—Ç–∞ -->
                <div class="text-color-controls">
                    <h3>üé® –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</h3>
                    <div class="color-buttons">
                        <button class="color-btn active" data-color="dark">–¢–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç</button>
                        <button class="color-btn" data-color="light">–°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç</button>
                    </div>
                </div>

                <!-- –ë–ª–æ–∫: –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
                <div class="employee-controls">
                    <h3>üë®‚Äçüíº –î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h3>
                    
                    <div class="privacy-level-controls">
                        <label>–£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏:</label>
                        <div class="privacy-buttons">
                            <button class="privacy-btn active" data-level="low">Low</button>
                            <button class="privacy-btn" data-level="medium">Medium</button>
                            <button class="privacy-btn" data-level="high">High</button>
                        </div>
                    </div>

                    <div class="employee-info-preview">
                        <div id="employeePreview">
                            <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö -->
                        </div>
                    </div>
                </div>

                <div class="performance">
                    <div>FPS: <span id="fpsCounter">0</span></div>
                    <div>–°—Ç–∞—Ç—É—Å: <span id="status">–ö–∞–º–µ—Ä–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞</span></div>
                    <div>–ü–∏–∫—Å–µ–ª–∏ —á–µ–ª–æ–≤–µ–∫–∞: <span id="personPixels">0</span></div>
                    <div>–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: <span id="processingTime">0</span>–º—Å</div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –≤–∏–¥–µ–æ -->
            <div class="video-panel">
                <div class="video-container">
                    <!-- –ó–ï–†–ö–ê–õ–¨–ù–û–°–¢–¨ –í–ö–õ–Æ–ß–ï–ù–ê –î–õ–Ø –í–ò–î–ï–û -->
                    <video id="webcam" width="640" height="480" autoplay muted playsinline style="transform: scaleX(-1);"></video>
                    <canvas id="outputCanvas" width="640" height="480" style="transform: scaleX(-1);"></canvas>
                </div>

                <!-- –û–∫–Ω–æ –æ—Ç–ª–∞–¥–∫–∏ -->
                <div class="debug-panel">
                    <h3>üîç –û—Ç–ª–∞–¥–∫–∞</h3>
                    <div class="debug-container">
                        <canvas id="debugCanvas" width="320" height="240"></canvas>
                    </div>
                    <div class="debug-info">
                        <div>–†–µ–∂–∏–º: <span id="debugMode">–û–∂–∏–¥–∞–Ω–∏–µ</span></div>
                        <div>–ë–µ–ª—ã–µ –ø–∏–∫—Å–µ–ª–∏: <span id="whitePixels">0</span></div>
                        <div>–ß–µ—Ä–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏: <span id="blackPixels">0</span></div>
                        <div>–ü–∏–∫—Å–µ–ª–∏ —á–µ–ª–æ–≤–µ–∫–∞: <span id="personPixels">0</span></div>
                        <div>–†–∞–∑–º–µ—Ä: 640x480</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç–æ–µ –≤–∏–¥–µ–æ –¥–ª—è —Ñ–æ–Ω–∞ -->
    <video id="backgroundVideo" loop muted playsinline style="display: none;">
        <source src="./backgrounds/backgroundVideo.mp4" type="video/mp4">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
    </video>


    <!-- –ù–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="js/employee-data.js"></script>
    <script src="js/employee-editor.js"></script> <!-- –î–û–ë–ê–í–õ–Ø–ï–ú –≠–¢–£ –°–¢–†–û–ß–ö–£ -->
    <script src="js/background-manager.js"></script>
    <script src="js/employee-display.js"></script>
    <script src="js/segmentator.js"></script>
    <script src="js/video-processor.js"></script>
    <script src="js/app.js"></script>
</body>
</html>